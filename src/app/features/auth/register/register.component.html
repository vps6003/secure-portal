<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-5">
  <div class="flex flex-col gap-2">
    <label for="name" class="text-sm font-medium text-gray-700">Full Name</label>
    <input
      type="text"
      id="name"
      formControlName="name"
      placeholder="Enter your full name"
      class="px-3 py-3 border rounded-md text-base transition-colors focus:outline-none focus:ring-3 focus:ring-blue-100 focus:border-blue-500 placeholder:text-gray-400"
      [class.border-red-500]="name?.invalid && name?.touched"
      [class.border-gray-300]="!(name?.invalid && name?.touched)"
    />
    @if (name?.invalid && name?.touched) {
      <span class="text-xs text-red-500">
        @if (name?.errors?.['required']) {
          Name is required
        } @else if (name?.errors?.['minlength']) {
          Name must be at least 2 characters
        }
      </span>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label for="email" class="text-sm font-medium text-gray-700">Email</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      placeholder="Enter your email"
      class="px-3 py-3 border rounded-md text-base transition-colors focus:outline-none focus:ring-3 focus:ring-blue-100 focus:border-blue-500 placeholder:text-gray-400"
      [class.border-red-500]="email?.invalid && email?.touched"
      [class.border-gray-300]="!(email?.invalid && email?.touched)"
    />
    @if (email?.invalid && email?.touched) {
      <span class="text-xs text-red-500">
        @if (email?.errors?.['required']) {
          Email is required
        } @else if (email?.errors?.['email']) {
          Please enter a valid email
        }
      </span>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label for="password" class="text-sm font-medium text-gray-700">Password</label>
    <input
      type="password"
      id="password"
      formControlName="password"
      placeholder="Create a password"
      class="px-3 py-3 border rounded-md text-base transition-colors focus:outline-none focus:ring-3 focus:ring-blue-100 focus:border-blue-500 placeholder:text-gray-400"
      [class.border-red-500]="password?.invalid && password?.touched"
      [class.border-gray-300]="!(password?.invalid && password?.touched)"
    />
    @if (password?.invalid && password?.touched) {
      <span class="text-xs text-red-500">
        @if (password?.errors?.['required']) {
          Password is required
        } @else if (password?.errors?.['minlength']) {
          Password must be at least 8 characters
        }
      </span>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label for="confirmPassword" class="text-sm font-medium text-gray-700">Confirm Password</label>
    <input
      type="password"
      id="confirmPassword"
      formControlName="confirmPassword"
      placeholder="Confirm your password"
      class="px-3 py-3 border rounded-md text-base transition-colors focus:outline-none focus:ring-3 focus:ring-blue-100 focus:border-blue-500 placeholder:text-gray-400"
      [class.border-red-500]="(confirmPassword?.invalid || registerForm.errors?.['passwordMismatch']) && confirmPassword?.touched"
      [class.border-gray-300]="!((confirmPassword?.invalid || registerForm.errors?.['passwordMismatch']) && confirmPassword?.touched)"
    />
    @if (confirmPassword?.invalid && confirmPassword?.touched) {
      <span class="text-xs text-red-500">
        @if (confirmPassword?.errors?.['required']) {
          Please confirm your password
        }
      </span>
    }
    @if (registerForm.errors?.['passwordMismatch'] && confirmPassword?.touched && confirmPassword?.value) {
      <span class="text-xs text-red-500">Passwords do not match</span>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label class="flex items-center gap-2 cursor-pointer text-sm text-gray-600">
      <input type="checkbox" formControlName="acceptTerms" class="w-4 h-4 cursor-pointer" />
      <span>I agree to the <a href="#" class="text-blue-600 hover:underline">Terms and Conditions</a></span>
    </label>
    @if (acceptTerms?.invalid && acceptTerms?.touched) {
      <span class="text-xs text-red-500">You must accept the terms</span>
    }
  </div>

  <button
    type="submit"
    class="w-full py-3.5 bg-blue-600 text-white rounded-md text-base font-semibold cursor-pointer transition-colors mt-2 hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed"
    [disabled]="isSubmitting || registerForm.invalid"
  >
    {{ isSubmitting ? 'Creating account...' : 'Create account' }}
  </button>
</form>

